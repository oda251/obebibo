# ユーザージャーニー定義書

## 概要
Obobiboアプリケーションにおける主要なユーザージャーニーを定義し、E2Eテストの基盤とします。
各ジャーニーは実際のユーザー行動を模倣し、アプリケーションの主要機能が正常に動作することを検証します。

---

## 1. 一般ユーザーの会員登録から案件応募まで

### ジャーニー概要
新規ユーザーがサービスを発見し、会員登録を行い、興味のある案件に応募するまでの完全なフローです。

### ステップ詳細
1. **サービス発見**
   - トップページ (`/`) にアクセス
   - 案件一覧を確認し、サービス概要を理解

2. **案件詳細確認**
   - 興味のある案件をクリックして詳細ページ (`/campaigns/:id`) に移動
   - 案件内容、応募条件、締切日などを確認

3. **会員登録の必要性認識**
   - 応募ボタンをクリックしてログインが必要であることを確認
   - 会員登録ページ (`/register`) に移動

4. **会員登録実行**
   - 必要情報（名前、メールアドレス、パスワード）を入力
   - 利用規約とプライバシーポリシーに同意
   - 登録完了

5. **案件応募**
   - 案件詳細ページに戻る
   - 応募フォーム (`/campaigns/:id/entry`) にアクセス
   - 配送先住所などの必要情報を入力
   - 応募完了 (`/campaigns/:id/entry/done`)

6. **応募確認**
   - マイページ (`/mypage`) で応募履歴を確認

### 期待される結果
- ユーザーが円滑に会員登録から案件応募まで完了できる
- 各ステップで適切なユーザーフィードバックが提供される
- 応募履歴がマイページで確認できる

---

## 2. 企業ユーザーの会員登録から案件登録まで

### ジャーニー概要
企業担当者がadmin権限で案件を登録・管理するまでのフローです。
（注：現在の実装では企業は直接登録できず、管理者によって作成される想定）

### ステップ詳細
1. **管理者による企業登録**
   - 管理者が `/admin` にログイン
   - 企業情報（会社名、連絡先、住所等）を登録
   - 企業SNS情報を設定

2. **企業担当者への権限付与**
   - 管理者が企業担当者にadmin権限を付与
   - 企業担当者にログイン情報を共有

3. **企業担当者ログイン**
   - 企業担当者が `/admin` にアクセス
   - 提供された認証情報でログイン

4. **案件作成**
   - 管理ダッシュボードから案件管理 (`/admin/campaigns`) にアクセス
   - 新規案件作成フォームで詳細を入力
   - 案件タイトル、説明、募集期間、条件等を設定

5. **案件公開**
   - 作成した案件を公開状態に変更
   - 一般ユーザー向けに案件が表示されることを確認

6. **応募者管理**
   - 応募者一覧 (`/admin/campaigns/:id/entries`) で応募状況を確認
   - 当選者の選定と通知

### 期待される結果
- 企業が案件を適切に登録・管理できる
- 応募者情報を効率的に管理できる
- 案件の公開状態を制御できる

---

## 3. 管理者ユーザーのログインからadminページ表示まで

### ジャーニー概要
システム管理者がadmin機能にアクセスし、全体的なシステム管理を行うフローです。

### ステップ詳細
1. **管理者ログインページアクセス**
   - `/admin` にアクセス
   - 管理者専用ログインフォームを表示

2. **認証実行**
   - 管理者認証情報（email、password）を入力
   - ログイン実行

3. **管理ダッシュボード表示**
   - 管理者専用ダッシュボード (`/admin`) を表示
   - システム全体の統計情報を確認

4. **各管理機能へのアクセス確認**
   - 案件管理 (`/admin/campaigns`) へのアクセス
   - 応募者管理機能の確認
   - 配送管理 (`/admin/shipments`) へのアクセス
   - レビュー管理 (`/admin/reviews`) へのアクセス

5. **権限確認**
   - 一般ユーザーページへのアクセス権限確認
   - 管理者専用機能の動作確認

### 期待される結果
- 管理者が適切に認証される
- 全ての管理機能にアクセスできる
- セキュリティが適切に機能している

---

## 4. ユーザーの案件発見から応募までの完全フロー

### ジャーニー概要
既存ユーザーが新しい案件を発見し、詳細を確認して応募するまでの詳細なフローです。

### ステップ詳細
1. **案件発見**
   - トップページで注目案件を確認
   - 案件一覧ページ (`/campaigns`) で全案件を閲覧
   - カテゴリやキーワードでの絞り込み（実装されている場合）

2. **案件比較検討**
   - 複数の案件詳細ページを確認
   - 応募条件、締切日、商品内容を比較
   - レビューがある場合は過去のレビューを確認

3. **応募準備**
   - ログイン状態の確認（未ログインの場合はログイン）
   - マイページで配送先住所を確認・更新

4. **応募実行**
   - 案件詳細ページから応募フォームにアクセス
   - 必要事項の入力と確認
   - 応募完了

5. **応募後の確認**
   - 応募完了ページでの確認メッセージ表示
   - マイページでの応募履歴確認
   - メール通知の受信（実装されている場合）

### 期待される結果
- ユーザーが効率的に案件を発見・比較できる
- スムーズな応募プロセス
- 応募後の適切なフィードバック

---

## 5. ユーザーのレビュー投稿フロー

### ジャーニー概要
案件に当選し商品を受け取ったユーザーが、レビューを投稿するまでのフローです。

### ステップ詳細
1. **レビュー投稿の機会認識**
   - マイページで当選履歴を確認
   - レビュー投稿可能な案件を特定

2. **レビューページアクセス**
   - マイページまたは案件詳細ページからレビュー投稿ページ (`/mypage/review/:id`) にアクセス

3. **レビュー作成**
   - 商品評価（星評価）の選択
   - 詳細コメントの入力
   - 写真添付（実装されている場合）

4. **レビュー投稿**
   - 内容確認と投稿実行
   - 投稿完了確認

5. **レビュー確認**
   - 投稿したレビューが案件詳細ページに表示されることを確認
   - マイページでレビュー履歴を確認

### 期待される結果
- ユーザーが簡単にレビューを投稿できる
- レビューが適切に表示される
- 他のユーザーがレビューを参考にできる

---

## 6. 管理者の案件管理ワークフロー

### ジャーニー概要
管理者が案件の作成から応募者選定、配送管理まで行う包括的な管理フローです。

### ステップ詳細
1. **案件企画・作成**
   - 管理ダッシュボードから案件管理にアクセス
   - 新規案件作成フォームで詳細を設定
   - 募集条件、期間、商品情報の入力

2. **案件公開・モニタリング**
   - 案件の公開と応募状況のモニタリング
   - 応募者数の確認と調整

3. **応募締切・選考**
   - 応募締切後の応募者一覧確認
   - 当選者の選定と結果の更新

4. **配送手配**
   - 当選者の配送先情報確認
   - 配送管理システムでの配送状況追跡

5. **フォローアップ**
   - レビュー投稿状況の確認
   - 案件の完了処理

### 期待される結果
- 効率的な案件管理プロセス
- 応募者との適切なコミュニケーション
- 配送状況の透明性

---

## 7. 管理者の配送管理ワークフロー

### ジャーニー概要
当選者への商品配送を管理し、配送状況を追跡するフローです。

### ステップ詳細
1. **配送準備**
   - 当選者情報の確認
   - 配送先住所の検証

2. **配送手配**
   - 配送業者への依頼
   - 追跡番号の登録

3. **配送状況更新**
   - 配送管理画面での状況更新
   - 配送完了の確認

4. **配送完了フォロー**
   - ユーザーへの配送完了通知
   - レビュー投稿の促進

### 期待される結果
- 効率的な配送管理
- 配送状況の透明性
- 顧客満足度の向上

---

## 8. ユーザーのプロフィール管理とマイページ活用

### ジャーニー概要
ユーザーが自分の情報を管理し、応募履歴やレビューを確認するフローです。

### ステップ詳細
1. **マイページアクセス**
   - ログイン後のマイページ表示
   - 個人情報とアクティビティ概要の確認

2. **プロフィール更新**
   - 基本情報の更新
   - 配送先住所の追加・編集

3. **履歴確認**
   - 応募履歴の詳細確認
   - 当選履歴と配送状況の確認

4. **レビュー管理**
   - 投稿済みレビューの確認
   - 新しいレビューの投稿

### 期待される結果
- ユーザーが自分の情報を適切に管理できる
- 過去のアクティビティを簡単に確認できる
- プライバシー設定の適切な管理

---

## テスト実装について

各ユーザージャーニーは以下の形式で個別のPlaywrightテストファイルとして実装されます：

```
tests/specs/journeys/
├── journey-01-user-registration-to-application.spec.js
├── journey-02-company-registration-to-campaign.spec.js  
├── journey-03-admin-login-to-dashboard.spec.js
├── journey-04-campaign-discovery-to-application.spec.js
├── journey-05-user-review-submission.spec.js
├── journey-06-admin-campaign-management.spec.js
├── journey-07-admin-shipment-management.spec.js
└── journey-08-user-profile-management.spec.js
```

各テストファイルは：
- 完全なエンドツーエンドのワークフローを検証
- 実際のユーザー行動を模倣
- エラーケースとハッピーパスの両方をカバー
- 適切なアサーションで期待される結果を検証

このユーザージャーニー定義により、Obobiboアプリケーションの主要機能が実際の利用シナリオで正常に動作することを包括的に検証できます。